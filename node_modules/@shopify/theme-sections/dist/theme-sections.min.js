this.Shopify=this.Shopify||{},this.Shopify.theme=this.Shopify.theme||{},this.Shopify.theme.sections=function(e){"use strict";var n="data-section-id";function o(e,t){this.container=function(e){if(!(e instanceof Element))throw new TypeError("Theme Sections: Attempted to load section. The section container provided is not a DOM element.");if(null===e.getAttribute(n))throw new Error("Theme Sections: The section container provided does not have an id assigned to the "+n+" attribute.");return e}(e),this.id=e.getAttribute(n),this.extensions=[],i(this,function(e){if(void 0!==e&&"object"!=typeof e||null===e)throw new TypeError("Theme Sections: The properties object provided is not a valid");return e}(t)),window.Shopify.designMode&&(this._onUnload=this._onUnload.bind(this),this._onSelect=this._onSelect.bind(this),this._onDeselect=this._onDeselect.bind(this),this._onBlockSelect=this._onBlockSelect.bind(this),this._onBlockDeselect=this._onBlockDeselect.bind(this),document.addEventListener("shopify:section:unload",this._onUnload),document.addEventListener("shopify:section:select",this._onSelect),document.addEventListener("shopify:section:deselect",this._onDeselect),document.addEventListener("shopify:block:select",this._onBlockSelect),document.addEventListener("shopify:block:deselect",this._onBlockDeselect)),this.onLoad()}function i(e,t){if(null==e)throw new TypeError("Cannot convert undefined or null to object");for(var n=Object(e),o=1;o<arguments.length;o++){var i=arguments[o];if(null!=i)for(var s in i)Object.prototype.hasOwnProperty.call(i,s)&&(n[s]=i[s])}return n}o.prototype={onLoad:function(){},onUnload:function(){},onSelect:function(){},onDeselect:function(){},onBlockSelect:function(){},onBlockDeselect:function(){},unload:function(){this.onUnload(),window.Shopify.designMode&&(document.removeEventListener("shopify:section:unload",this._onUnload),document.removeEventListener("shopify:section:select",this._onSelect),document.removeEventListener("shopify:section:deselect",this._onDeselect),document.removeEventListener("shopify:block:select",this._onBlockSelect),document.removeEventListener("shopify:block:deselect",this._onBlockDeselect))},extend:function(e){this.extensions.push(e);var t=i({},e);delete t.init,i(this,t),"function"==typeof e.init&&e.init.apply(this)},_onUnload:function(e){this.id===e.detail.sectionId&&this.unload()},_onSelect:function(e){this.id===e.detail.sectionId&&this.onSelect(e.detail.load)},_onDeselect:function(e){this.id===e.detail.sectionId&&this.onDeselect()},_onBlockSelect:function(e){this.id===e.detail.sectionId&&this.onBlockSelect(e.detail.blockId,e.detail.load)},_onBlockDeselect:function(e){this.id===e.detail.sectionId&&this.onBlockDeselect(e.detail.blockId)}};var s="data-section-type";window.Shopify=window.Shopify||{},window.Shopify.theme=window.Shopify.theme||{},window.Shopify.theme.sections=window.Shopify.theme.sections||{};var c=window.Shopify.theme.sections.registered=window.Shopify.theme.sections.registered||{},r=window.Shopify.theme.sections.instances=window.Shopify.theme.sections.instances||[];function d(e,o){e=f(e),void 0===o&&(o=document.querySelectorAll("["+s+"]")),o=a(o),e.forEach(function(t){var n=c[t];void 0!==n&&(o=o.filter(function(e){return!h(e)&&(null!==e.getAttribute(s)&&(e.getAttribute(s)!==t||(r.push(new n(e)),!1)))}))})}function l(e){var n=[];if(NodeList.prototype.isPrototypeOf(e)||Array.isArray(e))var t=e[0];if(e instanceof Element||t instanceof Element)a(e).forEach(function(t){n=n.concat(r.filter(function(e){return e.container===t}))});else if("string"==typeof e||"string"==typeof t){f(e).forEach(function(t){n=n.concat(r.filter(function(e){return e.type===t}))})}return n}function h(e){return 0<l(e).length}function f(e){return"*"===e?e=Object.keys(c):"string"==typeof e?e=[e]:e.constructor===o?e=[e.prototype.type]:Array.isArray(e)&&e[0].constructor===o&&(e=e.map(function(e){return e.prototype.type})),e=e.map(function(e){return e.toLowerCase()})}function a(e){return NodeList.prototype.isPrototypeOf(e)&&0<e.length?e=Array.prototype.slice.call(e):NodeList.prototype.isPrototypeOf(e)&&0===e.length?e=[]:null===e?e=[]:!Array.isArray(e)&&e instanceof Element&&(e=[e]),e}return window.Shopify.designMode&&document.addEventListener("shopify:section:load",function(e){var t=e.detail.sectionId,n=e.target.querySelector('[data-section-id="'+t+'}"]');d(n.getAttribute(s),n)}),e.registered=c,e.instances=r,e.register=function(e,t){if("string"!=typeof e)throw new TypeError("Theme Sections: The first argument for .register must be a string that specifies the type of the section being registered");if(void 0!==c[e])throw new Error('Theme Sections: A section of type "'+e+'" has already been registered. You cannot register the same section type twice');function n(e){o.call(this,e,t)}return n.constructor=o,n.prototype=Object.create(o.prototype),c[n.prototype.type=e]=n},e.unregister=function(e){(e=f(e)).forEach(function(e){delete c[e]})},e.load=d,e.unload=function(e){l(e).forEach(function(e){var t=r.map(function(e){return e.id}).indexOf(e.id);r.splice(t,1),e.unload()})},e.extend=function(e,t){l(e).forEach(function(e){e.extend(t)})},e.getInstances=l,e.isInstance=h,e}({});
